<style>
  #month .category > div {
    display: grid;
    grid-gap: var(--size-3);
    grid-template-columns: 1fr auto 120px 60px;
    h4 {
      margin: auto 0;
    }
    p {
      padding-left: var(--size-1);
      margin: auto 0;
    }
    .name {
      width: 100%;
    }
    .value {
      width: 100%;
    }
    button {
      text-align: right;
    }
  }
</style>

<div class="card" x-data="{editName: false, editValue: false}">
  <h4 class="data" x-show="!editName" x-text="category.name"></h4>
  <button x-show="!editName" @click="editName = true">Rename</button>
  <input
    x-show="editName"
    x-bind:value="category.name"
    class="input name"
    placeholder="Category"
    type="text"
  />
  <button
    x-show="editName"
    @click="$store.categories[flow][category.id].name = $el.previousElementSibling.value, editName = false;"
  >
    Save
  </button>
  <p
    class="data"
    x-show="!editValue"
    x-text="amountToString($store.entries.index[flow][category.id]?.value)"
  ></p>
  <button x-show="!editValue" @click="editValue = true">Edit</button>
  <input
    x-show="editValue"
    x-bind:value="$store.entries.index[flow][category.id]?.value || 0"
    class="input value"
    placeholder="Value"
    step="0.01"
    min="0"
    type="number"
  />
  <button
    x-show="editValue"
    @click="$store.entries.setValue($store.entries.index.id, flow, category.id, Number($el.previousElementSibling.value)), editValue = false"
  >
    Save
  </button>
</div>
